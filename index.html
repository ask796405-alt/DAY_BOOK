<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Purchases</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://unpkg.com/@phosphor-icons/web@2.0.3/src/regular/style.css" rel="stylesheet">
<link rel="icon" type="image/png" sizes="192x192" href="./icons/icon-192.png">
<link rel="apple-touch-icon" href="./icons/icon-192.png">
<link rel="manifest" href="./manifest.json">
<meta name="theme-color" content="#0b0d10">
<style>
:root {
  --bg-light: linear-gradient(135deg, #cfe3ff, #3b82f6);
  --bg-dark: linear-gradient(135deg, #020617, #0f172a);
  --glass-light: rgba(255,255,255,0.25);
  --glass-dark: rgba(15,23,42,0.6);
}

* {
  box-sizing: border-box;
  font-family: system-ui, -apple-system, BlinkMacSystemFont;
}

body {
  margin: 0;
  min-height: 100vh;
  background: var(--bg-light);
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  transition: background 0.6s ease;
}

body.dark {
  background: var(--bg-dark);
}

/* CARD ANIMATION */
.app {
  width: 100%;
  max-width: 380px;
  padding: 28px;
  border-radius: 26px;
  background: var(--glass-light);
  backdrop-filter: blur(22px);
  box-shadow: 0 30px 80px rgba(0,0,0,0.35);
  animation: cardEnter 0.8s ease forwards;
}

body.dark .app {
  background: var(--glass-dark);
}

@keyframes cardEnter {
  from { opacity: 0; transform: translateY(40px) scale(0.95); }
  to { opacity: 1; transform: translateY(0) scale(1); }
}

/* TOGGLE */
.toggle {
  display: flex;
  justify-content: flex-end;
  margin-bottom: 8px;
}

.toggle button {
  background: transparent;
  border: none;
  color: inherit;
  font-size: 22px;
  cursor: pointer;
  transition: transform 0.3s ease;
}

.toggle button:active {
  transform: rotate(20deg) scale(1.2);
}

h1 {
  text-align: center;
  font-size: 30px;
  margin-bottom: 24px;
}

/* INPUTS */
.field {
  display: flex;
  align-items: center;
  padding: 14px 16px;
  border-radius: 16px;
  background: rgba(255,255,255,0.22);
  margin-bottom: 14px;
  opacity: 0;
  transform: translateY(20px);
  animation: fieldIn 0.5s ease forwards;
}

.field:nth-child(1) { animation-delay: 0.1s }
.field:nth-child(2) { animation-delay: 0.15s }
.field:nth-child(3) { animation-delay: 0.2s }
.field:nth-child(4) { animation-delay: 0.25s }
.field:nth-child(5) { animation-delay: 0.3s }
.field:nth-child(6) { animation-delay: 0.35s }
.field:nth-child(7) { animation-delay: 0.4s }
.field:nth-child(8) { animation-delay: 0.45s }
.field:nth-child(9) { animation-delay: 0.5s }

@keyframes fieldIn {
  to { opacity: 1; transform: translateY(0); }
}

.field i {
  font-size: 22px;
  margin-right: 14px;
}

.field input {
  flex: 1;
  border: none;
  background: transparent;
  color: inherit;
  font-size: 15px;
}

.field input::placeholder {
  color: rgba(255,255,255,0.9);
}

.field input:focus {
  outline: none;
}

/* BUTTON */
.submit-wrap {
  display: flex;
  justify-content: center;
  margin-top: 30px;
}

button.submit {
  width: 85%;
  padding: 16px;
  border-radius: 999px;
  border: none;
  font-size: 17px;
  font-weight: 600;
  cursor: pointer;
  background: white;
  color: #2563eb;
  position: relative;
  overflow: hidden;
  transition: transform 0.15s ease, box-shadow 0.15s ease;
  box-shadow: 0 14px 35px rgba(0,0,0,0.3);
}

button.submit:active {
  transform: scale(0.96);
}

/* RIPPLE */
button.submit::after {
  content: "";
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,0.05);
  opacity: 0;
  transition: opacity 0.3s;
}

button.submit:active::after {
  opacity: 1;
}

/* MESSAGE */
.msg {
  margin-top: 14px;
  text-align: center;
  font-size: 14px;
  animation: fade 0.3s ease;
}

@keyframes fade {
  from { opacity: 0; }
  to { opacity: 1; }
}

/* Remove browser default focus border */
.field input:focus {
  outline: none;
  box-shadow: none;
}

/* Remove mobile tap highlight */
input {
  -webkit-tap-highlight-color: transparent;
}

/* Custom focus glow (clean, modern) */
.field:focus-within {
  box-shadow: 0 0 0 2px rgba(255,255,255,0.35);
}

</style>
</head>

<body>

<div class="app">

  <div class="toggle">
    <button onclick="toggleTheme()">
      <i id="themeIcon" class="ph ph-moon"></i>
    </button>
  </div>

  <h1>Purchases</h1>

  <form id="purchaseForm">
    <div class="field"><i class="ph ph-calendar"></i><input type="date" name="date" required></div>
    <div class="field"><i class="ph ph-package"></i><input type="text" name="product" placeholder="Product" required></div>
    <div class="field"><i class="ph ph-receipt"></i><input type="number" name="quantity" placeholder="Quantity" required></div>
    <div class="field"><i class="ph ph-currency-inr"></i><input type="number" name="price" placeholder="Price" required></div>
    <div class="field"><i class="ph ph-storefront"></i><input type="text" name="supplier" placeholder="Supplier"></div>
    <div class="field"><i class="ph ph-truck"></i><input type="text" name="transporter" placeholder="Transporter"></div>
    <div class="field"><i class="ph ph-money"></i><input type="number" name="transport_cost" placeholder="Transport Cost"></div>
    <div class="field"><i class="ph ph-user"></i><input type="text" name="customer" placeholder="Customer"></div>
    <div class="field"><i class="ph ph-house"></i><input type="text" name="delivery_place" placeholder="Delivery Place"></div>

    <div class="submit-wrap">
      <button class="submit" type="submit">Submit</button>
    </div>

    <div id="msg" class="msg"></div>
  </form>
</div>

<script>
const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbw3V3wANTR4kcCbSICxkR_BPRDh4HthaApt2fliGj_6YQfG3t5-foTAWhGaUJqhivhSwg/exec";
const body = document.body;
const icon = document.getElementById("themeIcon");

/* THEME */
if (localStorage.getItem("theme") === "dark") {
  body.classList.add("dark");
  icon.className = "ph ph-sun";
}

function toggleTheme() {
  body.classList.toggle("dark");
  const dark = body.classList.contains("dark");
  localStorage.setItem("theme", dark ? "dark" : "light");
  icon.className = dark ? "ph ph-sun" : "ph ph-moon";
}

/* SUBMIT */
document.getElementById("purchaseForm").addEventListener("submit", e => {
  e.preventDefault();
  const msg = document.getElementById("msg");
  msg.textContent = "⏳ Submitting...";

  fetch(SCRIPT_URL, {
    method: "POST",
    body: new FormData(e.target)
  })
  .then(() => {
    msg.textContent = "✅ Submitted successfully";
    e.target.reset();
  })
  .catch(() => msg.textContent = "❌ Error");
});
</script>

<script>


/* ================================
   INPUT HOVER + FOCUS LIFT
================================ */
document.querySelectorAll(".field").forEach(field => {

  field.addEventListener("mouseenter", () => {
    field.style.transform = "translateY(-2px)";
    field.style.boxShadow = "0 8px 20px rgba(0,0,0,0.2)";
  });

  field.addEventListener("mouseleave", () => {
    field.style.transform = "translateY(0)";
    field.style.boxShadow = "none";
  });

  const input = field.querySelector("input");
  const icon = field.querySelector("i");

  input.addEventListener("focus", () => {
    field.style.transform = "translateY(-4px)";
    field.style.boxShadow = "0 12px 30px rgba(0,0,0,0.3)";
    icon.style.transform = "scale(1.15)";
  });

  input.addEventListener("blur", () => {
    field.style.transform = "translateY(0)";
    field.style.boxShadow = "none";
    icon.style.transform = "scale(1)";
  });
});

/* ================================
   ICON MICRO BOUNCE
================================ */
document.querySelectorAll(".field i").forEach(icon => {
  icon.addEventListener("mouseenter", () => {
    icon.animate(
      [
        { transform: "scale(1)" },
        { transform: "scale(1.25)" },
        { transform: "scale(1)" }
      ],
      { duration: 300, easing: "ease-out" }
    );
  });
});

/* ================================
   MOBILE TAP FEEDBACK
================================ */
document.querySelectorAll(".field, .submit").forEach(el => {
  el.addEventListener("touchstart", () => {
    el.style.transform = "scale(0.97)";
  });

  el.addEventListener("touchend", () => {
    el.style.transform = "scale(1)";
  });
});
</script>


</body>
</html>
